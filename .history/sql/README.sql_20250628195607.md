# دليل ملفات SQL – مشروع car-finance

هذا المجلد يحتوي على جميع ملفات إعداد قاعدة البيانات الخاصة بمنصة `car-finance`.

---

## 📁 محتويات المجلد

| الملف                          | الوصف                                                                 |
|-------------------------------|------------------------------------------------------------------------|
| `init.sql`                    | سكربت اختياري لإنشاء قاعدة البيانات (CREATE DATABASE ...) – يُستخدم مرة واحدة فقط |
| `setup.sql`                   | سكربت إعداد تجريبي بسيط – لتجارب محلية أو تحميل بيانات خفيفة                                         |
| `car_finance_schema.sql`      | يحتوي على الجداول الأساسية: العملاء، السيارات، التمويل، المستثمرين، الاشتراكات، العمليات المالية – بالإضافة إلى بيانات تجريبية |
| `installment_rules_schema.sql`| يحتوي على جداول خاصة بمنطق التقسيط: قواعد التسعير، View لحساب الأقساط، ودالة `calculate_installment_offer` |
| `full_schema.sql`             | دمج شامل بين الملفين أعلاه (جداول + قواعد + بيانات) – يُنفّذ لمرة واحدة لتجهيز النظام بالكامل       |
| `full_schema_no_data.sql`     | نفس ما في `full_schema.sql` لكن بدون أي بيانات تجريبية – مثالي للبيئات الحقيقية والإنتاجية             |

---

## 🛠️ خطوات التنفيذ (مثال باستخدام pgAdmin)

1. افتح قاعدة البيانات `car_finance`.
2. اضغط بزر الماوس الأيمن واختر **Query Tool**.
3. افتح ملف `full_schema.sql` أو `full_schema_no_data.sql` بحسب حاجتك.
4. اضغط زر التنفيذ (⚡) لتطبيق البنية كاملة.

---

## ✅ ملاحظات
- يمكنك تعديل `installment_rules_schema.sql` لإضافة خصومات جديدة أو فئات تسعير مختلفة.
- يمكنك استخدام الدالة `calculate_installment_offer(...)` من الواجهة أو pgAdmin لتجربة الحسابات التفاعلية.

---

تم إنشاؤه تلقائيًا بواسطة OpenAI Assistant.