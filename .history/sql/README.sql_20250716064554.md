# ุฏููู ูููุงุช SQL โ ูุดุฑูุน car-finance

ูุฐุง ุงููุฌูุฏ ูุญุชูู ุนูู ูููุงุช ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจููุตุฉ `car-finance`.

---

## ๐ ูุญุชููุงุช ุงููุฌูุฏ

| ุงูููู                          | ุงููุตู                                                                 |
|-------------------------------|------------------------------------------------------------------------|
| `schema/unified_schema.sql`   | **ุงูุฅุณููู ุงูููุญุฏ ุงูุฑุฆูุณู** - ูุญุชูู ุนูู ุฌููุน ุงูุฌุฏุงูู ูุงููุธุงุฆู ุงููุทููุจุฉ |
| `schema/README_UNIFIED_SCHEMA.md` | ุฏููู ููุตู ููุฅุณููู ุงูููุญุฏ ูููููุฉ ุชุทุจููู |

---

## ๐๏ธ ุฎุทูุงุช ุงูุชูููุฐ

1. **ุชุทุจูู ุงูุฅุณููู ุงูููุญุฏ:**
   - ุงุฐูุจ ุฅูู ููุญุฉ ุชุญูู Supabase
   - ุงูุชุญ SQL Editor
   - ุงูุณุฎ ูุญุชูู `schema/unified_schema.sql`
   - ุงุถุบุท Run ูุชูููุฐ ุงูุฅุณููู

2. **ุงูุชุญูู ูู ุงูุชุทุจูู:**
   - ุชุฃูุฏ ูู ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู
   - ุชุญูู ูู ูุฌูุฏ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
   - ุงุฎุชุจุฑ ุนูู API `/api/cars`

---

## โ ููุงุญุธุงุช ูููุฉ

- **ุงูุฅุณููู ุงูููุญุฏ** ูุญู ุฌููุน ุงูุชุนุงุฑุถุงุช ุงูุณุงุจูุฉ ูู ุฃููุงุน ุงูุจูุงูุงุช
- ูุญุชูู ุนูู **ุจูุงูุงุช ุชุฌุฑูุจูุฉ** ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู
- ูุชุถูู **ุฌููุน ุงููุธุงุฆู ูุงูู Triggers** ุงููุทููุจุฉ
- **ูุญุฏุซ ููุชูุงุณุจ ูุน ุงูููุฏ ุงูุญุงูู** ูู ุงูุชุทุจูู

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

ูุฅุถุงูุฉ ุชุญุฏูุซุงุช ุฌุฏูุฏุฉ:
1. ุฃุถู ูููุงุช SQL ูู ูุฌูุฏ `migrations/`
2. ุฃู ูู ุจุชุญุฏูุซ `schema/unified_schema.sql` ูุจุงุดุฑุฉ
3. ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุจู ุงูุชุญุฏูุซ

---

## ๐ ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

### ุฌุฏุงูู ุงูุณูุงุฑุงุช ูุงููุนุงุฑุถ
- `car_showcase` - ุฌุฏูู ุงูุณูุงุฑุงุช ุงูุฑุฆูุณู
- `users` - ุฌุฏูู ุงููุณุชุฎุฏููู
- `customers` - ุฌุฏูู ุงูุนููุงุก

### ุฌุฏุงูู ุงููุญุงูุธ ูุงููุนุงููุงุช
- `wallets` - ูุญุงูุธ ุงููุณุชุฎุฏููู
- `wallet_transactions` - ูุนุงููุงุช ุงููุญุงูุธ
- `dealer_wallets` - ูุญุงูุธ ุงููุนุงุฑุถ
- `dealer_transactions` - ูุนุงููุงุช ุงููุนุงุฑุถ

### ุฌุฏุงูู ุงูุชูููู ูุงูุชูุณูุท
- `financing_requests` - ุทูุจุงุช ุงูุชูููู
- `finance_transactions` - ุงูุนูููุงุช ุงููุงููุฉ
- `installment_rules` - ููุงุนุฏ ุงูุชูุณูุท
- `pricing_rules` - ููุงุนุฏ ุงูุฃุณุนุงุฑ

### ุฌุฏุงูู ุงููุณุชุซูุฑูู ูุงูุงุณุชุซูุงุฑุงุช
- `investors` - ุงููุณุชุซูุฑูู
- `investment_cycles` - ุฏูุฑุงุช ุงูุงุณุชุซูุงุฑ
- `investor_profits` - ุฃุฑุจุงุญ ุงููุณุชุซูุฑูู

### ุฌุฏุงูู ุฃุฎุฑู
- `subscriptions` - ุงุดุชุฑุงูุงุช ุงููุณุชุฎุฏููู
- `settlements` - ุงูุชุณููุงุช ูุงููุฏููุนุงุช

---

## ๐ ุงูุฏูุงู ุงููุชุงุญุฉ

- `update_wallet_balance()` - ุชุญุฏูุซ ุฑุตูุฏ ุงููุญูุธุฉ
- `update_dealer_wallet_balance()` - ุชุญุฏูุซ ุฑุตูุฏ ูุญูุธุฉ ุงููุนุฑุถ
- `link_cars_to_showroom()` - ุฑุจุท ุงูุณูุงุฑุงุช ุจูุนุฑุถ
- `get_financial_summary()` - ุญุณุงุจ ุงูููุฎุต ุงููุงูู

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู `.env.local`
2. ุชุฃูุฏ ูู ุชุทุจูู ุงูุฅุณููู ุจูุฌุงุญ
3. ุฑุงูุจ ูููุณูู ุงูุณูุฑูุฑ ููุฃุฎุทุงุก
4. ุฑุงุฌุน `schema/README_UNIFIED_SCHEMA.md` ููุชูุงุตูู

---

**ููุงุญุธุฉ:** ูุฐุง ุงูุฅุณููู ุงูููุญุฏ ูุญู ุฌููุน ุงูุชุนุงุฑุถุงุช ุงูุณุงุจูุฉ ููุถูู ุนูู ุงูููุตุฉ ุจุดูู ุตุญูุญ.

ุชู ุชุญุฏูุซู ูู 2025-01-XX