# تصفية البيانات حسب الشهر في صفحة car-leasing

## المشكلة
كان جدول النتائج يعرض جميع البيانات لجميع الأشهر، وكان الملخص الشهري يعرض مجاميع لجميع البيانات. المطلوب هو عرض البيانات الخاصة بالشهر المحدد فقط.

## الحل المطبق

### 1. إضافة دالة تصفية البيانات
تم إضافة دالة `getMonthRows()` في `src/app/car-leasing/page.tsx`:

```typescript
// الحصول على البيانات الخاصة بالشهر المحدد فقط
const getMonthRows = () => {
  return rows.filter(row => row.month === selectedMonth);
};
```

### 2. تحديث جدول النتائج
تم تحديث جدول النتائج ليعرض فقط بيانات الشهر المحدد:

```typescript
// عرض البيانات المصفاة
{getMonthRows().map((row, idx) => (
  // ... صفوف البيانات
))}

// عرض المجاميع للشهر المحدد
{getMonthRows().length > 0 && (
  <tr className="bg-green-200 font-bold">
    // ... مجاميع الشهر المحدد
  </tr>
)}
```

### 3. تحديث رسالة "لا توجد بيانات"
تم تحديث الرسالة لتشير إلى الشهر المحدد:

```typescript
{getMonthRows().length === 0 && (
  <tr>
    <td colSpan={15} className="text-gray-400 py-8">
      لا توجد بيانات لشهر {selectedMonth} بعد. أدخل البيانات أعلاه واضغط حفظ.
    </td>
  </tr>
)}
```

### 4. تحديث عناوين الجداول
تم تحديث عناوين الجداول لتوضح الشهر المحدد:

```typescript
// في MonthlySummaryTable.tsx
<h2 className="text-lg font-bold mb-2 text-black text-center">الملخص الشهري - {selectedMonth}</h2>

// في page.tsx
<h2 className="text-lg font-bold mb-4 text-black">جدول النتائج - {selectedMonth}</h2>
```

## كيفية العمل

### 1. اختيار الشهر
- انقر على أي شهر من أزرار الأشهر في الأعلى
- سيتم تحديث جميع الجداول تلقائياً

### 2. عرض البيانات
- **جدول الملخص الشهري**: يعرض مجاميع البيانات للشهر المحدد فقط
- **جدول النتائج**: يعرض تفاصيل البيانات للشهر المحدد فقط

### 3. إضافة بيانات جديدة
- أدخل البيانات في النموذج
- اضغط "حفظ المعلومات"
- ستتم إضافة البيانات للشهر المحدد فقط

### 4. التنقل بين الأشهر
- انقر على أي شهر لرؤية بياناته
- كل شهر له بيانات منفصلة
- البيانات محفوظة لكل شهر على حدة

## الملفات المعدلة

### 1. ملفات React:
- `src/app/car-leasing/page.tsx` - إضافة تصفية البيانات حسب الشهر
- `src/app/car-leasing/MonthlySummaryTable.tsx` - تحديث عنوان الجدول

### 2. ملفات التوثيق:
- `README_MONTHLY_FILTERING.md` - هذا الملف

## مثال على الاستخدام

### الخطوة 1: اختيار شهر يناير
- انقر على زر "يناير"
- ستظهر رسالة "لا توجد بيانات لشهر يناير بعد"

### الخطوة 2: إضافة بيانات لشهر يناير
- أدخل البيانات في النموذج
- اضغط "حفظ المعلومات"
- ستظهر البيانات في جدول النتائج

### الخطوة 3: اختيار شهر فبراير
- انقر على زر "فبراير"
- سيعود جدول النتائج فارغاً
- ستظهر رسالة "لا توجد بيانات لشهر فبراير بعد"

### الخطوة 4: إضافة بيانات لشهر فبراير
- أدخل بيانات مختلفة
- اضغط "حفظ المعلومات"
- ستظهر البيانات الجديدة في جدول النتائج

## ملاحظات مهمة

1. **البيانات المنفصلة**: كل شهر له بيانات منفصلة عن باقي الأشهر
2. **الملخص الشهري**: يعرض مجاميع البيانات للشهر المحدد فقط
3. **جدول النتائج**: يعرض تفاصيل البيانات للشهر المحدد فقط
4. **الرسائل**: تشير إلى الشهر المحدد عند عدم وجود بيانات

## الدعم

إذا واجهت أي مشاكل:
1. تأكد من اختيار الشهر المطلوب
2. تحقق من إضافة البيانات للشهر الصحيح
3. تأكد من ظهور البيانات في الجداول المحددة 